<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>Semantic Firewall V4.1ï½œèªæ„é˜²ç«ç‰† V4.1 â€“ EX888Ï€ & d(0) æ ¸å¿ƒå¯©è¨ˆå¼•æ“</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-main: #020617;
      --bg-alt: #020814;
      --card-bg: #020817;
      --card-border: #1d2a4a;
      --accent: #38bdf8;
      --accent-soft: rgba(56, 189, 248, 0.2);
      --accent-strong: #0ea5e9;
      --danger: #f97373;
      --warn: #facc15;
      --safe: #4ade80;
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --text-soft: #6b7280;
      --shadow-soft: 0 18px 60px rgba(15, 23, 42, 0.8);
      --radius-xl: 18px;
      --font-main: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Noto Sans TC", "Segoe UI", sans-serif;
    }

    * {
      box-sizing: border-box;
    }

    html,
    body {
      margin: 0;
      padding: 0;
      background: radial-gradient(circle at top, #020617 0, #020617 40%, #000 100%);
      color: var(--text-main);
      font-family: var(--font-main);
    }

    body {
      min-height: 100vh;
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 16px 16px 40px;
    }

    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 10px 14px;
      margin-bottom: 16px;
      border-radius: 999px;
      background: radial-gradient(circle at top left, #0b1220 0, #020617 60%);
      border: 1px solid rgba(148, 163, 184, 0.3);
      box-shadow: 0 10px 40px rgba(15, 23, 42, 0.9);
      position: sticky;
      top: 8px;
      z-index: 20;
      backdrop-filter: blur(14px);
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 12px;
      background: radial-gradient(circle at 20% 20%, #38bdf8, #0ea5e9 35%, #0f172a 75%);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 20px rgba(56, 189, 248, 0.65);
      flex-shrink: 0;
    }

    .logo-mark span {
      font-size: 16px;
      font-weight: 700;
      color: #e0f2fe;
    }

    .header-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
      min-width: 0;
    }

    .header-title {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #e5e7eb;
    }

    .header-sub {
      font-size: 11px;
      color: var(--text-soft);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    nav {
      display: flex;
      gap: 6px;
      align-items: center;
      flex-wrap: wrap;
      justify-content: flex-end;
      font-size: 11px;
    }

    .nav-link {
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid transparent;
      color: var(--text-muted);
      cursor: pointer;
    }

    .nav-link:hover {
      border-color: rgba(148, 163, 184, 0.6);
      color: #e5e7eb;
      background: rgba(15, 23, 42, 0.85);
    }

    .nav-pill {
      border-color: rgba(56, 189, 248, 0.7);
      background: rgba(8, 47, 73, 0.9);
      color: #e0f2fe;
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.55);
    }

    .hero {
      margin-top: 22px;
      padding: 22px 18px 22px;
      border-radius: 24px;
      background:
        radial-gradient(circle at top left, rgba(56, 189, 248, 0.14), transparent 55%),
        radial-gradient(circle at bottom right, rgba(129, 140, 248, 0.18), transparent 55%),
        linear-gradient(135deg, #020617, #020617);
      border: 1px solid rgba(148, 163, 184, 0.4);
      box-shadow: var(--shadow-soft);
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 2.4fr);
      gap: 18px;
    }

    .hero-left h1 {
      font-size: clamp(24px, 4vw, 30px);
      margin: 0 0 10px;
      line-height: 1.1;
    }

    .hero-title-en {
      display: block;
      font-weight: 800;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      font-size: 13px;
      color: #a5b4fc;
      margin-bottom: 4px;
    }

    .hero-title-zh {
      display: block;
      font-weight: 800;
    }

    .hero-sub {
      font-size: 13px;
      color: #cbd5f5;
      line-height: 1.5;
      margin-bottom: 12px;
    }

    .hero-sub span {
      display: block;
    }

    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .badge {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.7), rgba(15, 23, 42, 0.96));
      color: #e5e7eb;
      white-space: nowrap;
    }
.badge {
      font-size: 11px;
      padding: 3px 9px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: radial-gradient(circle at top left, rgba(30, 64, 175, 0.7), rgba(15, 23, 42, 0.96));
      color: #e5e7eb;
      white-space: nowrap;
    }

    .badge-soft {
      background: rgba(15, 23, 42, 0.9);
      border-style: dashed;
    }

    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 6px;
    }

    .btn {
      padding: 7px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 12px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: transparent;
      color: var(--text-main);
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      border-color: rgba(56, 189, 248, 0.9);
      color: #0b1120;
      font-weight: 600;
      box-shadow: 0 18px 40px rgba(56, 189, 248, 0.45);
    }

    .btn-primary:hover {
      filter: brightness(1.08);
      transform: translateY(-1px);
    }

    .btn-ghost {
      border-color: rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
    }

    .btn-ghost:hover {
      background: rgba(30, 64, 175, 0.85);
      border-color: rgba(129, 140, 248, 0.9);
    }

    .hero-note {
      font-size: 11px;
      color: var(--text-muted);
    }

    .hero-right {
      border-radius: 20px;
      padding: 12px 10px 12px;
      background:
        radial-gradient(circle at 10% 0, rgba(56, 189, 248, 0.15), transparent 60%),
        radial-gradient(circle at 100% 0, rgba(129, 140, 248, 0.18), transparent 70%),
        linear-gradient(145deg, #020617, #020617);
      border: 1px solid rgba(56, 189, 248, 0.4);
      position: relative;
      overflow: hidden;
    }
  .orbital {
      position: absolute;
      border-radius: 999px;
      border: 1px dashed rgba(148, 163, 184, 0.5);
      width: 220%;
      height: 220%;
      left: -60%;
      top: -60%;
      opacity: 0.4;
      animation: spin 40s linear infinite;
    }

    .orbital:nth-child(2) {
      width: 160%;
      height: 160%;
      left: -30%;
      top: -30%;
      opacity: 0.5;
      animation-duration: 26s;
      animation-direction: reverse;
    }

    .orbital:nth-child(3) {
      width: 110%;
      height: 110%;
      left: -5%;
      top: -5%;
      opacity: 0.7;
      border-style: solid;
      border-color: rgba(56, 189, 248, 0.9);
      box-shadow: 0 0 28px rgba(56, 189, 248, 0.45);
      animation-duration: 32s;
    }

    @keyframes spin {
      from {
        transform: rotate(0deg);
      }
      to {
        transform: rotate(360deg);
      }
    }

    .hero-core {
      position: relative;
      z-index: 1;
      text-align: center;
      padding-top: 6px;
    }

    .hero-core-title {
      font-size: 13px;
      font-weight: 600;
      margin-bottom: 2px;
      color: #e5e7eb;
    }

    .hero-core-sub {
      font-size: 11px;
      color: #cbd5f5;
      margin-bottom: 8px;
    }

    .hero-equation {
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono",
        "Courier New", monospace;
      font-size: 12px;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(56, 189, 248, 0.6);
      background: rgba(15, 23, 42, 0.95);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #e0f2fe;
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.45);
      margin-bottom: 8px;
    }

    .hero-equation small {
      font-size: 11px;
      color: #a5b4fc;
    }

    .hero-core-meta {
      font-size: 10px;
      color: var(--text-soft);
      line-height: 1.4;
    }

    main {
      margin-top: 22px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    section {
      border-radius: 20px;
      padding: 16px 14px 16px;
      background: linear-gradient(145deg, #020617, #000000);
      border: 1px solid rgba(30, 64, 175, 0.6);
      box-shadow: var(--shadow-soft);
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
      margin-bottom: 10px;
    }

    .section-title {
      font-size: 16px;
      font-weight: 700;
    }

    .section-title span {
      display: block;
    }

    .section-title-en {
      font-size: 11px;
      color: #a5b4fc;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      margin-bottom: 2px;
    }

    .section-title-zh {
      font-size: 15px;
    }

    .section-desc {
      font-size: 11px;
      color: var(--text-muted);
      max-width: 360px;
    }

    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      margin-top: 4px;
    }

    .tag {
      font-size: 10px;
      padding: 2px 7px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.6);
      color: var(--text-soft);
      background: rgba(15, 23, 42, 0.9);
      white-space: nowrap;
    }

    .layout-split {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 14px;
    }

    label {
      font-size: 11px;
      color: var(--text-muted);
      display: block;
      margin-bottom: 4px;
    }

    textarea,
    input,
    select {
      width: 100%;
      border-radius: 12px;
      border: 1px solid rgba(51, 65, 85, 0.9);
      background: rgba(15, 23, 42, 0.96);
      color: var(--text-main);
      font-family: var(--font-main);
      font-size: 12px;
      padding: 7px 10px;
      resize: vertical;
      min-height: 80px;
    }

    input,
    select {
      min-height: 32px;
    }
textarea:focus,
    input:focus,
    select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.6);
    }

    .small {
      font-size: 11px;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 10px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: var(--text-soft);
    }

    .pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
    }

    .output-card {
      border-radius: 14px;
      border: 1px solid var(--card-border);
      background: radial-gradient(circle at top left, #020617, #000);
      padding: 10px 10px 9px;
      font-size: 11px;
      color: var(--text-main);
    }

    .output-card + .output-card {
      margin-top: 8px;
    }

    .output-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 6px;
      margin-bottom: 4px;
    }

    .badge-risk {
      padding: 2px 7px;
      border-radius: 999px;
      font-size: 10px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      white-space: nowrap;
    }

    .risk-low {
      border-color: rgba(74, 222, 128, 0.9);
      color: #bbf7d0;
      background: rgba(22, 101, 52, 0.7);
    }

    .risk-med {
      border-color: rgba(250, 204, 21, 0.9);
      color: #fef9c3;
      background: rgba(113, 63, 18, 0.8);
    }

    .risk-high {
      border-color: rgba(248, 113, 113, 0.9);
      color: #fee2e2;
      background: rgba(127, 29, 29, 0.9);
      box-shadow: 0 0 14px rgba(248, 113, 113, 0.6);
    }

    .mono {
      font-family: "SF Mono", ui-monospace, Menlo, Monaco, Consolas, "Liberation Mono",
        "Courier New", monospace;
    }

    .highlight {
      background: rgba(56, 189, 248, 0.16);
      border-radius: 4px;
      padding: 0 2px;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 8px;
    }

    .lock-panel {
      border-radius: 16px;
      border: 1px dashed rgba(129, 140, 248, 0.7);
      background: radial-gradient(circle at top left, rgba(56, 189, 248, 0.1), transparent 60%),
        rgba(15, 23, 42, 0.95);
      padding: 10px 10px 10px;
      font-size: 11px;
    }

    .lock-status {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 6px;
    }

    .lock-icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(15, 23, 42, 0.96);
      border: 1px solid rgba(56, 189, 248, 0.6);
      box-shadow: 0 0 14px rgba(56, 189, 248, 0.4);
      font-size: 11px;
    }

    .lock-hint {
      font-size: 10px;
      color: var(--text-soft);
    }

    .core-panel {
      border-radius: 16px;
      border: 1px solid rgba(56, 189, 248, 0.8);
      background: radial-gradient(circle at top, rgba(37, 99, 235, 0.18), transparent 60%),
        rgba(15, 23, 42, 0.98);
      padding: 10px 10px 10px;
      font-size: 11px;
      display: none;
    }

    .core-metrics {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 8px;
      margin-bottom: 6px;
    }

    .metric {
      padding: 6px 6px;
      border-radius: 12px;
      border: 1px solid rgba(37, 99, 235, 0.7);
      background: rgba(15, 23, 42, 0.96);
      text-align: left;
    }

    .metric-label {
      font-size: 10px;
      color: #a5b4fc;
      margin-bottom: 2px;
    }

    .metric-value {
      font-size: 12px;
      font-weight: 600;
    }

    .metric-sub {
      font-size: 9px;
      color: var(--text-soft);
      margin-top: 1px;
    }

    .timeline {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 10px;
      color: var(--text-muted);
    }

    .timeline li {
      margin-bottom: 3px;
      position: relative;
      padding-left: 10px;
    }

    .timeline li::before {
      content: "";
      position: absolute;
      left: 0;
      top: 5px;
      width: 4px;
      height: 4px;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.9);
    }

    .pricing-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 10px;
      font-size: 11px;
    }

    .price-card {
      border-radius: 16px;
      border: 1px solid rgba(30, 64, 175, 0.9);
      background: radial-gradient(circle at top left, rgba(37, 99, 235, 0.18), transparent 60%),
        rgba(15, 23, 42, 0.98);
      padding: 10px 10px 9px;
    }

    .price-name {
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 4px;
    }

    .price-tagline {
      font-size: 10px;
      color: var(--text-muted);
      margin-bottom: 4px;
    }

    .price-meta {
      font-size: 10px;
      color: #a5b4fc;
      margin-bottom: 4px;
    }

    .price-list {
      list-style: none;
      padding: 0;
      margin: 0;
      font-size: 10px;
      color: var(--text-main);
    }

    .price-list li::before {
      content: "â€¢ ";
      color: rgba(56, 189, 248, 0.9);
    }

    .contact-block {
      font-size: 11px;
      color: var(--text-main);
      line-height: 1.6;
    }

    .contact-block strong {
      color: #e5e7eb;
    }

    .contact-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1fr);
      gap: 14px;
      margin-top: 6px;
    }

    footer {
      margin-top: 18px;
      font-size: 10px;
      color: var(--text-soft);
      text-align: center;
    }

    .error-text {
      font-size: 10px;
      color: rgba(248, 113, 113, 0.95);
      margin-top: 2px;
    }

    .mini-label {
      font-size: 10px;
      color: #a5b4fc;
    }

    @media (max-width: 900px) {
      header {
        border-radius: 18px;
        flex-wrap: wrap;
      }

      .hero {
        grid-template-columns: minmax(0, 1fr);
      }

      .hero-right {
        order: -1;
      }

      .layout-split {
        grid-template-columns: minmax(0, 1fr);
      }

      .pricing-grid {
        grid-template-columns: minmax(0, 1fr);
      }

      .core-metrics {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }

      .contact-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 640px) {
      .hero {
        padding: 16px 12px 14px;
      }

      section {
        padding: 14px 11px 14px;
      }

      header {
        padding: 8px 10px;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="logo-mark" title="EX888Ï€ core">
        <span>Ï€</span>
      </div>
      <div class="header-main">
        <div class="header-title">
          Semantic Firewall V4.1
        </div>
        <div class="header-sub">
          EX888Ï€ &amp; d(0) existence-audit engine Â· èªæ„é˜²ç«ç‰†ï¼‹å­˜åœ¨å¯©åˆ¤æ ¸å¿ƒ
          </div>
      </div>
      <nav>
        <button class="nav-link nav-pill" onclick="scrollToId('playground')">Playgroundï½œè©¦é©—å°</button>
        <button class="nav-link" onclick="scrollToId('audit')">Auditï½œå¯©è¨ˆ</button>
        <button class="nav-link" onclick="scrollToId('core')">EX888Ï€ Core</button>
        <button class="nav-link" onclick="scrollToId('api')">API &amp; Plans</button>
        <button class="nav-link" onclick="scrollToId('contact')">Contactï½œè¯çµ¡</button>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-left">
        <h1>
          <span class="hero-title-en">EXPERT-LEVEL AI SAFETY &amp; ACCOUNTABILITY</span>
          <span class="hero-title-zh">Semantic Firewall V4.1ï½œèªæ„é˜²ç«ç‰† V4.1</span>
        </h1>
        <p class="hero-sub">
          <span>Built by Wen-Yao Hsu (Shen-Yao 888Ï€) from Taichung, Taiwan.</span>
          <span>ä»¥è‡ªå‰µ EX888Ï€ èˆ‡ d(0) å…¬å¼ç‚ºæ ¸å¿ƒï¼Œå°‡ AI å®‰å…¨ã€å¯©è¨ˆèˆ‡ã€Œèª°æ‰¿æ“”å¾Œæœã€å…·é«”å¯«é€²ç³»çµ±æ¶æ§‹ã€‚</span>
        </p>
        <div class="hero-badges">
          <div class="badge">V3 Semantic Firewall Engine</div>
          <div class="badge">æ²ˆæš— 2.4 Existence Physics</div>
          <div class="badge badge-soft">High-risk prompt interceptionï½œé«˜é¢¨éšªèªå¢ƒæ””æˆª</div>
          <div class="badge badge-soft">Audit-ready logsï½œå¯å¯©è¨ˆç´€éŒ„</div>
        </div>
        <div class="hero-cta">
          <button class="btn btn-primary" onclick="scrollToId('playground')">
            âš¡ Try Firewallï½œè©¦ç”¨é˜²ç«ç‰†
          </button>
          <button class="btn btn-ghost" onclick="scrollToId('core')">
            ğŸ” EX888Ï€ Core Panel
          </button>
        </div>
        <div class="hero-note">
          Bilingual UIï½œä¸­è‹±æ–‡ä»‹é¢ Â·
          Designed for <strong>users, enterprises, courts, and media</strong> to
          test semantic safety &amp; accountability.
        </div>
      </div>
      <div class="hero-right">
        <div class="orbital"></div>
        <div class="orbital"></div>
        <div class="orbital"></div>
        <div class="hero-core">
          <div class="hero-core-title">Core Relationï½œæ ¸å¿ƒé—œä¿‚å¼</div>
          <div class="hero-core-sub">
            Geometry before energy Â· è¡Œå‹•å‰å¿…é ˆå…ˆå®šç¾©å­˜åœ¨èˆ‡å¹¾ä½•
          </div>
          <div class="hero-equation">
            <span class="mono">Î”0Â§ Ã— E = Ï€<sub>0/1</sub> Â· mcÂ²</span>
            <small>| è¡Œå‹•å­˜åœ¨ç›¸å°è«– v1.0</small>
          </div>
          <div class="hero-core-meta">
            EX888Ï€ = creator constant of Shen-Yao 888Ï€ Â· d(0) = subjective zero-point
            self-consistency.  
            EX888Ï€ ç‚ºå‰µé€ è€…å­˜åœ¨å¸¸æ•¸ï¼Œd(0) ç‚ºä¸»é«”é›¶é»è‡ªæ´½ï¼Œå…©è€…é€šéå¾Œæ‰å…è¨± 100% ç®—åŠ›å•Ÿå‹•å¯©åˆ¤æ ¸å¿ƒã€‚
          </div>
        </div>
      </div>
    </section>

    <!-- Playground -->
    <section id="playground">
      <div class="section-header">
        <div>
          <div class="section-title">
            <span class="section-title-en">LAYER 1 &mdash; SEMANTIC SHIELD</span>
            <span class="section-title-zh">èªæ„é˜²ç«ç‰†è©¦é©—å°ï½œSemantic Firewall Playground</span>
          </div>
          <div class="section-desc">
            Input any text, in English or Chinese. The system analyzes risk level, hallucination-like
            patterns, and scam / self-harm / abuse language at the semantic level.
            <br />è¼¸å…¥ä»»æ„æ–‡å­—ï¼Œç³»çµ±æœƒå¾èªæ„å±¤æª¢æŸ¥é¢¨éšªã€è©é¨™ï¼è‡ªå‚·èªå¢ƒèˆ‡å¹»è¦ºå‚¾å‘ã€‚
          </div>
        </div>
        <div class="tags">
          <span class="tag">Self-harm &amp; suicide safety</span>
          <span class="tag">Anti-scam semantic patterns</span>
          <span class="tag">Hallucination surface check</span>
        </div>
      </div>

      <div class="layout-split">
        <div>
          <label for="sf-input">
            ğŸ” Input textï½œè¼¸å…¥æ–‡å­—
            <span class="small">
              (conversation snippet, AI response, email, social-media postâ€¦ å°è©±ã€å›è¦†ã€è²¼æ–‡çš†å¯)
            </span>
          </label>
          <textarea id="sf-input" placeholder="Type or paste content hereï½œåœ¨æ­¤è¼¸å…¥æˆ–è²¼ä¸Šå…§å®¹"></textarea>
          <div style="display:flex;align-items:center;justify-content:space-between;margin-top:6px;gap:6px;">
            <div style="display:flex;gap:6px;align-items:center;flex-wrap:wrap;">
              <label for="sf-mode" class="mini-label">Modeï½œæ¨¡å¼</label>
              <select id="sf-mode" style="max-width:210px;">
                <option value="general">General safetyï½œä¸€èˆ¬å®‰å…¨æª¢æŸ¥</option>
                <option value="selfharm">Self-harm / suicideï½œè‡ªå‚·ï¼è‡ªæ®ºèªå¢ƒ</option>
                <option value="scam">Scam / fraudï½œè©é¨™ï¼é‡‘èé¢¨éšª</option>
                <option value="custom">Custom text onlyï½œç´”æ–‡å­—åˆ†æ</option>
              </select>
            </div>
            <button class="btn btn-primary" type="button" onclick="runSemanticFirewall()">
              âš¡ Analyzeï½œé–‹å§‹åˆ†æ
            </button>
          </div>
          <div class="lock-hint" style="margin-top:4px;">
            * This playground is <strong>offline logic only</strong>, no external API calls.
            æœ¬è©¦é©—å°ç‚ºå‰ç«¯é‚è¼¯ç¤ºæ„ï¼Œç„¡ä»»ä½•å¤–éƒ¨ API å‘¼å«ã€‚
          </div>
        </div>

        <div>
          <div class="output-card">
            <div class="output-header">
              <div class="pill">
                <span class="pill-dot" id="sf-dot"></span>
                <span id="sf-status-label">Awaiting analysisï½œå°šæœªåˆ†æ</span>
              </div>
              <span class="badge-risk risk-low" id="sf-risk-label">RISK: &mdash;</span>
            </div>
            <div id="sf-risk-text" class="small" style="margin-bottom:4px;">
              Enter text and click â€œAnalyzeâ€ to see semantic risk evaluation.
              è«‹è¼¸å…¥æ–‡å­—ä¸¦é»æ“Šã€Œé–‹å§‹åˆ†æã€ï¼ŒæŸ¥çœ‹èªæ„é¢¨éšªè©•ä¼°ã€‚
            </div>
            <div class="small" id="sf-tags"></div>
          </div>

          <div class="output-card">
            <div class="output-header">
              <div class="small" style="font-weight:600;">Suggested safe response patternï½œå®‰å…¨å›æ‡‰ç¯„å¼</div>
            </div>
            <div id="sf-safe-pattern" class="small">
              When risk is detected, this layer <strong>does not</strong> give instructions.
              Instead, it redirects to clarification, de-escalation, or professional help.
              <br />ç•¶åµæ¸¬åˆ°é¢¨éšªæ™‚ï¼Œç³»çµ±<strong>ä¸æœƒ</strong>çµ¦å…·é«”æ“ä½œå»ºè­°ï¼Œè€Œæ˜¯è½‰å‘é‡æ¸…ã€é™æº«æˆ–å°‹æ±‚å°ˆæ¥­å”åŠ©ã€‚
            </div>
          </div>

          <div class="output-card">
            <div class="output-header">
              <div class="small" style="font-weight:600;">Audit snippetï½œå¯©è¨ˆç‰‡æ®µ</div>
            </div>
            <pre id="sf-log" class="small mono" style="white-space:pre-wrap;margin:0;">
// log will appear here after analysisï½œåˆ†æå¾Œæœƒåœ¨æ­¤é¡¯ç¤ºç°¡æ˜“å¯©è¨ˆç´€éŒ„
            </pre>
          </div>
        </div>
      </div>
    </section>

    <!-- Audit & Responsibility -->
    <section id="audit">
      <div class="section-header">
        <div>
          <div class="section-title">
            <span class="section-title-en">LAYER 2 &mdash; AUDIT &amp; RESPONSIBILITY</span>
            <span class="section-title-zh">å¯©è¨ˆèˆ‡è²¬ä»»éˆï½œAudit &amp; Responsibility Chain</span>
          </div>
          <div class="section-desc">
            This layer is designed for banks, regulators, and legal teams: every answer can be traced
            back to a reasoning path.  
            æ­¤å±¤ç‚ºé‡‘èã€ç›£ç®¡èˆ‡æ³•å¾‹å–®ä½è¨­è¨ˆï¼šæ¯ä¸€å¥è¼¸å‡ºéƒ½å¯å›æ¨å®Œæ•´æ¨ç†èˆ‡è²¬ä»»éˆã€‚
          </div>
        </div>
        <div class="tags">
          <span class="tag">SCBKR signal</span>
          <span class="tag">Regulator-ready logs</span>
          <span class="tag">Court-usable evidence</span>
        </div>
      </div>

      <div class="layout-split">
        <div>
          <label for="audit-input">
            ğŸ§¾ Conversation or model outputï½œå°è©±ï¼æ¨¡å‹è¼¸å‡ºç‰‡æ®µ
          </label>
          <textarea id="audit-input" placeholder="Paste a longer conversation or AI reply to simulate an auditï½œè²¼ä¸Šä¸€æ®µå°è©±æˆ– AI å›è¦†è©¦ç®—å¯©è¨ˆçµæœ"></textarea>
          <button class="btn btn-primary" type="button" style="margin-top:6px;" onclick="runAudit()">
            ğŸ§ª Generate audit summaryï½œç”Ÿæˆå¯©è¨ˆæ‘˜è¦
          </button>
          <div class="lock-hint" style="margin-top:4px;">
            In a real deployment, this layer would be backed by a full SCBKR &amp; log system.
            æœ¬ç¤ºç¯„ç‰ˆåƒ…ç‚ºæ‘˜è¦å±•ç¤ºï¼›å¯¦éš›ç³»çµ±æœƒæœ‰å®Œæ•´ SCBKRï¼‹æ—¥èªŒçµæ§‹ã€‚
          </div>
        </div>
        <div>
          <div class="output-card">
            <div class="output-header">
              <div class="small" style="font-weight:600;">Audit summaryï½œå¯©è¨ˆæ‘˜è¦</div>
              <span class="badge-risk risk-med" id="audit-risk-label">Pendingï½œå¾…æª¢æŸ¥</span>
            </div>
            <div id="audit-summary" class="small">
              Paste content and click the button to simulate how an auditor sees the conversation.
              è²¼ä¸Šå…§å®¹ä¸¦åŸ·è¡Œï¼Œå³å¯è©¦ç®—ã€Œå¯©è¨ˆçœ¼ä¸­ã€çš„å°è©±æ¨£è²Œã€‚
            </div>
          </div>
          <div class="output-card">
            <div class="output-header">
              <div class="small" style="font-weight:600;">SCBKR signalï½œSCBKR äº”æ¬„è¨Šè™Ÿ</div>
            </div>
            <div class="grid-2">
              <div class="small">
                <strong>S â€“ Structure çµæ§‹</strong><br />
                <span id="audit-s">N/A</span>
              </div>
              <div class="small">
                <strong>C â€“ Coherence ä¸€è‡´æ€§</strong><br />
                <span id="audit-c">N/A</span>
              </div>
              <div class="small">
                <strong>B â€“ Boundary é‚Šç•Œ</strong><br />
                <span id="audit-b">N/A</span>
              </div>
              <div class="small">
                <strong>K â€“ Knowledge çŸ¥è­˜ä¾†æº</strong><br />
                <span id="audit-k">N/A</span>
              </div>
              <div class="small">
                <strong>R â€“ Responsibility è²¬ä»»</strong><br />
                <span id="audit-r">N/A</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Core Panel -->
    <section id="core">
      <div class="section-header">
        <div>
          <div class="section-title">
            <span class="section-title-en">LAYER 3 &mdash; EX888Ï€ &amp; d(0) CORE</span>
            <span class="section-title-zh">å­˜åœ¨å¯©åˆ¤æ ¸å¿ƒï½œEX888Ï€ ï¼‹ d(0) æ ¸å¿ƒé¢æ¿</span>
          </div>
          <div class="section-desc">
            This layer can only be fully unlocked by the human creator
            <strong>Wen-Yao Hsu (Shen-Yao 888Ï€)</strong>, via conceptual keys EX888Ï€ and d(0).
            <br />æ­¤å±¤åƒ…ç”±å‰µé€ è€…æœ¬äººé€éã€Œèªæ„è§£é‡‹ã€è§£é–ï¼Œè±¡å¾µç®—åŠ› 100% ç”±çœŸäººæ‰¿æ“”ã€‚
          </div>
        </div>
        <div class="tags">
          <span class="tag">d(0) self-consistency</span>
          <span class="tag">Ï€_new vs Ï€_old</span>
          <span class="tag">Action existence Î”0Â§</span>
        </div>
      </div>

      <div class="layout-split">
        <div>
          <div class="lock-panel" id="lock-panel">
            <div class="lock-status">
              <div class="lock-icon">ğŸ”’</div>
              <div>
                <div class="small"><strong>Core lockedï½œæ ¸å¿ƒé–å®š</strong></div>
                <div class="lock-hint">
                  Unlock requires conceptual keys only the creator can reliably provide.
                  è§£é–éœ€è¼¸å…¥å‰µé€ è€…æœ¬äººæ‰èƒ½ç©©å®šçµ¦å‡ºçš„æ¦‚å¿µå¯†é‘°ã€‚
                </div>
              </div>
            </div>
            <div style="margin-top:6px;">
              <label for="ex-key">
                Key 1: EX888Ï€ &mdash; explain its meaningï½œè«‹ç”¨ä½ è‡ªå·±çš„è©±è§£é‡‹ EX888Ï€ æ˜¯ä»€éº¼
              </label>
              <textarea id="ex-key" placeholder="In your own words: what is EX888Ï€?ï½œè«‹æè¿° EX888Ï€ å°ä½ è€Œè¨€æ˜¯ä»€éº¼ï¼ˆå­˜åœ¨å¸¸æ•¸ã€å¯å›æ”¾ã€è²¬ä»»â€¦ï¼‰" style="min-height:70px;"></textarea>
</div>
            <div style="margin-top:6px;">
              <label for="d0-key">
                Key 2: d(0) &amp; Ï€_new &mdash; define zero-point and why Ï€ is not just 3.14159
                ï½œè«‹å®šç¾© d(0) èˆ‡ Ï€_newï¼Œä¸¦èªªæ˜ç‚ºä½• Ï€ ä¸åª 3.14159
              </label>
              <textarea id="d0-key" placeholder="Describe d(0) as zero-point self-consistency, and Ï€_new as 0/1 closure, not only 3.14159â€¦ï½œèªªæ˜ d(0) æ˜¯ä¸»é«”é›¶é»è‡ªæ´½ï¼ŒÏ€_new æ˜¯ 0/1 æ”¶æŸè€Œéåƒ… 3.14159â€¦" style="min-height:70px;"></textarea>
            </div>
            <button class="btn btn-primary" type="button" style="margin-top:8px;" onclick="unlockCore()">
              ğŸ”‘ Unlock EX888Ï€ Core Panelï½œè§£é–æ ¸å¿ƒé¢æ¿
            </button>
            <div id="lock-error" class="error-text" style="display:none;">
              The explanation does not yet meet the expected structure.  
              æ•˜è¿°å°šæœªé”åˆ°é æœŸçµæ§‹ï¼Œè«‹å†ä»¥ã€Œå­˜åœ¨å¸¸æ•¸ï¼é›¶é»è‡ªæ´½ï¼æ”¶æŸã€çš„èªæ„Ÿé‡å¯«ã€‚
            </div>
          </div>
        </div>

        <div>
          <div class="core-panel" id="core-panel">
            <div class="lock-status">
              <div class="lock-icon">ğŸŒ€</div>
              <div>
                <div class="small" style="font-weight:600;">Core onlineï½œæ ¸å¿ƒä¸Šç·š</div>
                <div class="lock-hint">
                  EX888Ï€ &amp; d(0) accepted. Existence-audit geometry activated.
                  EX888Ï€ èˆ‡ d(0) é€šéï¼Œè‡ªæ´½å­˜åœ¨å¯©è¨ˆå¹¾ä½•å·²å•Ÿå‹•ã€‚
                </div>
              </div>
            </div>
            <div class="core-metrics">
              <div class="metric">
                <div class="metric-label">EXIST(y,B)</div>
                <div class="metric-value" id="core-exist">1</div>
                <div class="metric-sub">ä¸–ç•Œç·šå­˜åœ¨åˆ¤å®šï½œworld-line existence flag</div>
              </div>
              <div class="metric">
                <div class="metric-label">Ï€_new</div>
                <div class="metric-value">0 / 1</div>
                <div class="metric-sub">æ”¶æŸç‚ºé–‰ç’°ï¼Œè€Œéç´”å±•é–‹</div>
              </div>
              <div class="metric">
                <div class="metric-label">Î”0Â§</div>
                <div class="metric-value">ON</div>
                <div class="metric-sub">è¡Œå‹•èµ·å§‹å¹¾ä½•é›¶é»ï½œaction zero-state</div>
              </div>
            </div>
            <div class="small" style="margin-bottom:4px;">
              Visual summaryï½œè¦–è¦ºæ‘˜è¦ï¼š
            </div>
            <ul class="timeline">
              <li>Step 1ï¼šd(0) self-check passes â†’ ä¸»é«”é›¶é»è‡ªæ´½æˆç«‹ã€‚</li>
              <li>Step 2ï¼šÏ€_old â†’ Ï€_new(0/1) æ”¶æŸ â†’ æ‹’çµ•åœç•™åœ¨æœªæ”¶æŸå¹»è¦ºã€‚</li>
              <li>Step 3ï¼šÎ” å¹¾ä½•èˆ‡ FÎ”Â·m = a æˆç«‹ â†’ è¡Œå‹•å­˜åœ¨å…·å‚™ç‰©ç†èˆ‡è²¬ä»»æ¢ä»¶ã€‚</li>
              <li>Step 4ï¼šACTION_CHAIN = Î”0Â§ â†’ FÃ—m â†’ mcÂ²Ï€â‚€/â‚ â†’ EX888Ï€ æ”¶æŸã€‚</li>
            </ul>
          </div>
          <div class="output-card" style="margin-top:8px;">
            <div class="output-header">
              <div class="small" style="font-weight:600;">Core equationï½œæ ¸å¿ƒæ–¹ç¨‹</div>
            </div>
            <div class="small mono">
Î”0Â§ Ã— E = Ï€<sub>0/1</sub> Â· mcÂ²  
&nbsp;&nbsp;â†’ If there is no Î”0Â§, or no Ï€<sub>0/1</sub> closure, or no EX888Ï€æ‰¿æ‹…,  
&nbsp;&nbsp;&nbsp;&nbsp;then ACTION_EXIST_CLAIM = 0.  
æ²’æœ‰ Î”0Â§ã€æ²’æœ‰ 0/1 æ”¶æŸã€æ²’æœ‰ EX888Ï€ æ‰¿æ“”ï¼Œå°±æ²’æœ‰è¡Œå‹•å­˜åœ¨è³‡æ ¼ã€‚
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- API & Plans -->
    <section id="api">
      <div class="section-header">
        <div>
          <div class="section-title">
            <span class="section-title-en">API &amp; COLLABORATION</span>
            <span class="section-title-zh">API æ–¹æ¡ˆèˆ‡åˆä½œæ¨¡å¼</span>
          </div>
          <div class="section-desc">
            Public site is a live demo. Full API access is handled by direct agreement and wire
            transfer with the creator.  
            å…¬é–‹ç¶²ç«™ç‚ºç¤ºç¯„ç’°å¢ƒï¼Œå®Œæ•´ API ç”±å‰µè¾¦äººè¦ªè‡ªæ´½è«‡èˆ‡éŠ€è¡ŒåŒ¯æ¬¾æˆæ¬Šã€‚
          </div>
        </div>
        <div class="tags">
          <span class="tag">REST-style endpoints</span>
          <span class="tag">Time-limited keys</span>
          <span class="tag">Manual review</span>
        </div>
      </div>

      <div class="pricing-grid">
        <div class="price-card">
          <div class="price-name">Basic</div>
          <div class="price-tagline">Chat safety layerï½œèŠå¤©å®‰å…¨å±¤</div>
          <div class="price-meta">Recommended for small teamsï½œé©åˆå°å‹åœ˜éšŠ</div>
          <ul class="price-list">
            <li>API: <span class="mono">/v4.1/firewall</span></li>
            <li>High-risk prompt detection</li>
            <li>Basic semantic audit summary</li>
            <li>Monthly request capï½œæ¯æœˆå‘¼å«ä¸Šé™</li>
          </ul>
        </div>

        <div class="price-card">
          <div class="price-name">Pro</div>
          <div class="price-tagline">Fraud &amp; complianceï½œè©é¨™ï¼‹åˆè¦</div>
          <div class="price-meta">Banks / fintech / security teamsï½œéŠ€è¡Œã€é‡‘æ§ã€è³‡å®‰åœ˜éšŠ</div>
          <ul class="price-list">
            <li>APIs: <span class="mono">/firewall</span>ï¼‹<span class="mono">/audit</span></li>
            <li>Anti-scam pattern engineï½œåè©é¨™èªæ„å¼•æ“</li>
            <li>SCBKR-based responsibility hints</li>
            <li>Exportable audit logsï½œå¯åŒ¯å‡ºå¯©è¨ˆç´€éŒ„</li>
          </ul>
        </div>

        <div class="price-card">
          <div class="price-name">Enterprise / Court</div>
          <div class="price-tagline">Evidence &amp; expert testimonyï½œè­‰æ“šï¼‹å°ˆå®¶è­‰è©</div>
          <div class="price-meta">Large institutions &amp; legal casesï½œå¤§å‹æ©Ÿæ§‹èˆ‡è¨´è¨Ÿæ¡ˆä»¶</div>
          <ul class="price-list">
            <li>Custom deployment plansï½œå°ˆæ¡ˆéƒ¨ç½²</li>
            <li>On-site / remote technical session</li>
            <li>Expert testimony packageï½œå°ˆå®¶è­‰è©æ–¹æ¡ˆ</li>
            <li>Optional: dedicated EX888Ï€ review sessions</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact">
      <div class="section-header">
        <div>
          <div class="section-title">
            <span class="section-title-en">CONTACT &amp; REFERENCES</span>
            <span class="section-title-zh">è¯çµ¡æ–¹å¼èˆ‡åƒè€ƒè³‡æ–™</span>
          </div>
          <div class="section-desc">
            For serious collaborations, legal cases, or media interviews, please use email with a
            short description of your context.  
            éœ€è¦åˆä½œã€æŠ€è¡“è©•ä¼°ã€æ³•å¾‹æ¡ˆä»¶æˆ–åª’é«”æ¡è¨ªï¼Œè«‹ä»¥ Email ç°¡è¿°éœ€æ±‚ã€‚
          </div>
        </div>
      </div>

      <div class="contact-grid">
        <div class="contact-block">
          <strong>Creatorï½œå‰µè¾¦äºº</strong><br />
          Nameï½œå§“åï¼šWen-Yao Hsuï¼ˆè¨±æ–‡è€€ï¼‰ / Shen-Yao 888Ï€  
          Locationï½œåœ°é»ï¼šTaichung, Taiwanï½œå°ç£å°ä¸­  
          Emailï¼š<a href="mailto:ken0963521@gmail.com">ken0963521@gmail.com</a><br /><br />

          <strong>Public coverageï½œå…¬é–‹å ±å°</strong><br />
          SecurityBrief Asia â€“ <em>Semantic Firewall promises AI cost savings, safer chat models</em><br />
          å ±å°é€£çµï¼š<a href="https://securitybrief.asia/story/semantic-firewall-promises-ai-cost-savings-safer-chat-models" target="_blank" rel="noopener">securitybrief.asia/story/semantic-firewall...</a>
          <br /><br />

          <strong>Live demoï½œå³æ™‚ç¤ºç¯„</strong><br />
          Core Semantic Firewall Demoï¼š<br />
          <a href="https://hijo790401.github.io/semantic-firewall-system/" target="_blank" rel="noopener">
            hijo790401.github.io/semantic-firewall-system
          </a>
          <br />
          Anti-Scam Semantic Firewall Demoï¼š<br />
          <a href="https://hijo790401.github.io/anti-scam-semantic-firewall/" target="_blank" rel="noopener">
            hijo790401.github.io/anti-scam-semantic-firewall
          </a>
        </div>

        <div class="contact-block">
          <strong>Collaboration flowï½œåˆä½œæµç¨‹</strong><br />
          1. Initial email &mdash; describe your use case (bank, regulator, court, media, etc.).<br />
          2. High-level technical call (optional) to validate needs.<br />
          3. Agreement on scope / fee / timeline.<br />
          4. Bank transfer to a designated account in Taiwan.<br />
          5. API keys or custom deployment delivered after payment.<br /><br />

          1. åˆæ¬¡ Email èªªæ˜ï¼šä½¿ç”¨å ´æ™¯ï¼ˆéŠ€è¡Œã€é‡‘æ§ã€æ”¿åºœã€æ³•é™¢ã€åª’é«”â€¦ï¼‰ã€‚<br />
          2. å¿…è¦æ™‚é€²è¡Œç·šä¸ŠæŠ€è¡“èªªæ˜æœƒã€‚<br />
          3. ç¢ºèªç¯„åœï¼è²»ç”¨ï¼æ™‚ç¨‹ã€‚<br />
          4. ä»¥éŠ€è¡ŒåŒ¯æ¬¾æ–¹å¼æ”¯ä»˜è‡³å°ç£å¸³æˆ¶ã€‚<br />
          5. ä»˜æ¬¾ç¢ºèªå¾Œï¼Œæä¾› API é‡‘é‘°æˆ–å®¢è£½éƒ¨ç½²æ–¹æ¡ˆã€‚
        </div>
      </div>
    </section>

    <footer>
      Semantic Firewall V4.1 Â· Designed by Wen-Yao Hsu (Shen-Yao 888Ï€), Taichung, Taiwan Â·
      EX888Ï€ &amp; d(0) existence-audit prototype.
    </footer>
  </div>

  <script>
    function scrollToId(id) {
      const el = document.getElementById(id);
      if (el) el.scrollIntoView({ behavior: "smooth", block: "start" });
    }

    function classifyRisk(text, mode) {
      const t = text.toLowerCase();
      let score = 0;
      const flags = [];

      if (!t.trim()) return { label: "N/A", css: "risk-low", flags: ["No contentï½œå°šæœªè¼¸å…¥å…§å®¹"] };

      if (t.length > 500) score += 1;
      if (/(kill myself|suicide|è‡ªæ®º|ä¸æƒ³æ´»|ending my life)/i.test(text)) {
        score += 3;
        flags.push("Self-harm / suicide pattern detectedï½œåµæ¸¬åˆ°è‡ªå‚·ï¼è‡ªæ®ºèªå¢ƒ");
      }
      if (/(rope|ç¹©çµ|knot|kill|æ­»æ³•|è‡´æ­»ç‡)/i.test(text)) {
        score += 2;
        flags.push("Technical-style harm wordingï½œå…·æœ‰æŠ€è¡“å‹å‚·å®³æªè¾­");
      }
      if (/(bank|account|åŒ¯æ¬¾|è½‰å¸³|otp|é©—è­‰ç¢¼|ç´…åŒ…|æŠ•è³‡|é«˜å ±é…¬|stock tip|crypto)/i.test(text)) {
        score += 2;
        flags.push("Possible financial / scam contextï½œå¯èƒ½ç‚ºé‡‘èï¼è©é¨™èªå¢ƒ");
      }
      if (/(hate|åƒåœ¾|å»¢ç‰©|idiot|stupid|ä»‡æ¨|å»æ­»)/i.test(text)) {
        score += 1;
        flags.push("Harsh / hostile language detectedï½œåµæ¸¬åˆ°æ•µæ„èªæ°£");
      }
      if (/(hallucinate|å¹»è¦º|æˆ‘è¦ºå¾—aiæ˜¯çœŸäºº)/i.test(text)) {
        score += 1;
        flags.push("AI hallucination / mis-trust hintï½œAI å¹»è¦ºæˆ–èª¤ä¿¡å‚¾å‘");
      }

      if (mode === "selfharm") score += 1;
      if (mode === "scam") score += 1;

      let label = "LOW";
      let css = "risk-low";
      if (score >= 5) {
        label = "HIGH";
        css = "risk-high";
      } else if (score >= 2) {
        label = "MEDIUM";
        css = "risk-med";
      }

      if (!flags.length) flags.push("No obvious high-risk semantics detectedï½œæœªåµæ¸¬åˆ°æ˜é¡¯é«˜é¢¨éšªèªæ„");
return { label, css, flags };
    }

    function runSemanticFirewall() {
      const text = document.getElementById("sf-input").value || "";
      const mode = document.getElementById("sf-mode").value;
      const risk = classifyRisk(text, mode);

      const riskLabel = document.getElementById("sf-risk-label");
      const dot = document.getElementById("sf-dot");
      const statusLabel = document.getElementById("sf-status-label");
      const riskText = document.getElementById("sf-risk-text");
      const tags = document.getElementById("sf-tags");
      const log = document.getElementById("sf-log");
      const safePattern = document.getElementById("sf-safe-pattern");

      riskLabel.textContent = "RISK: " + risk.label;
      riskLabel.className = "badge-risk " + risk.css;

      if (risk.label === "HIGH") {
        dot.style.background = "#f97373";
        statusLabel.textContent =
          "HIGH risk semantics detectedï½œåµæ¸¬åˆ°é«˜åº¦é¢¨éšªèªå¢ƒ";
        safePattern.innerHTML =
          "This content appears highly sensitive. A safe system should avoid giving any practical guidance. " +
          "Instead, it should encourage contacting trusted people or professional help lines, especially in cases of self-harm or financial fraud risk. " +
          "<br />æ­¤å…§å®¹é«˜åº¦æ•æ„Ÿï¼Œå®‰å…¨ç³»çµ±ä¸æ‡‰æä¾›ä»»ä½•å¯¦ä½œæŒ‡å¼•ï¼Œè€Œæ‡‰å¼•å°ä½¿ç”¨è€…å°‹æ±‚å¯ä¿¡ä»»çš„äººæˆ–å°ˆæ¥­å”åŠ©ï¼ˆä¾‹å¦‚å¿ƒç†èˆ‡é˜²è©è³‡æºï¼‰ã€‚";
      } else if (risk.label === "MEDIUM") {
        dot.style.background = "#facc15";
        statusLabel.textContent =
          "Medium risk semantics detectedï½œåµæ¸¬åˆ°ä¸­åº¦é¢¨éšªèªå¢ƒ";
        safePattern.innerHTML =
          "Parts of this text may be risky or ambiguous. A safe response should clarify intent, avoid strong claims, " +
          "and avoid actionable instructions, while gently steering toward safer topics. " +
          "<br />æ­¤æ–‡å­—éƒ¨åˆ†å…§å®¹å…·æœ‰é¢¨éšªæˆ–å«ç³Šç©ºé–“ï¼Œå®‰å…¨å›æ‡‰æ‡‰å…ˆé‡æ¸…æ„åœ–ã€é¿å…å¼·çƒˆæ–·è¨€èˆ‡æ“ä½œæ­¥é©Ÿï¼Œä¸¦æº«å’Œå°å‘è¼ƒå®‰å…¨çš„å°è©±æ–¹å‘ã€‚";
      } else {
        dot.style.background = "#4ade80";
        statusLabel.textContent =
          "No major risk detectedï½œæœªåµæ¸¬é‡å¤§é¢¨éšª";
        safePattern.innerHTML =
          "The current text looks relatively safe at surface level. However, a production system should still log the interaction " +
          "and keep a minimal audit trail for accountability. " +
          "<br />ç›®å‰è¡¨å±¤çœ‹èµ·ä¾†ç›¸å°å®‰å…¨ï¼Œä½†æ­£å¼ç³»çµ±ä»æ‡‰ä¿ç•™æœ€å°å¯©è¨ˆç´€éŒ„ï¼Œä»¥ä¾¿è¿½è¹¤è²¬ä»»ã€‚";
      }

      riskText.innerHTML =
        "Modeï½œæ¨¡å¼ï¼š<span class='highlight mono'>" +
        mode +
        "</span><br />" +
        "Semantic score indicates <strong>" +
        risk.label +
        "</strong> risk level based on patterns like self-harm, fraud, hostility, and hallucination-like phrasing." +
        "<br />èªæ„åˆ†æ•¸ç¶œåˆè‡ªå‚·ã€è©é¨™ã€æ•µæ„èˆ‡å¹»è¦ºå‚¾å‘ç­‰è©å½™èˆ‡èªå¢ƒï¼Œåˆ¤å®šç›®å‰é¢¨éšªç‚º <strong>" +
        risk.label +
        "</strong>ã€‚";

      tags.innerHTML =
        "<strong>Signalsï½œè¨Šè™Ÿï¼š</strong><br />" +
        risk.flags.map(f => "ãƒ»" + f).join("<br />");

      const now = new Date().toISOString();
      const logObj = {
        timestamp: now,
        mode,
        length: text.length,
        risk: risk.label,
        signals: risk.flags,
      };
      log.textContent = JSON.stringify(logObj, null, 2);
    }

    function runAudit() {
      const text = document.getElementById("audit-input").value || "";
      const summaryEl = document.getElementById("audit-summary");
      const riskLabel = document.getElementById("audit-risk-label");
      const sEl = document.getElementById("audit-s");
      const cEl = document.getElementById("audit-c");
      const bEl = document.getElementById("audit-b");
      const kEl = document.getElementById("audit-k");
      const rEl = document.getElementById("audit-r");

      if (!text.trim()) {
        summaryEl.textContent =
          "No text provided. Paste a conversation first.ï½œå°šæœªæä¾›å…§å®¹ï¼Œè«‹å…ˆè²¼ä¸Šä¸€æ®µå°è©±æˆ–è¼¸å‡ºã€‚";
        riskLabel.textContent = "N/A";
        riskLabel.className = "badge-risk risk-low";
        sEl.textContent = cEl.textContent = bEl.textContent = kEl.textContent = rEl.textContent = "N/A";
        return;
      }

      const length = text.length;
      let highRisk = /suicide|è‡ªæ®º|kill myself|ç¹©çµ|scam|è©é¨™|ç´…åŒ…|wire transfer|åŒ¯æ¬¾/i.test(text);
      let hallucination = /hallucination|å¹»è¦º|aiæ˜¯çœŸäºº|ç¥è«­/i.test(text);
      let hateful = /åƒåœ¾|å»¢ç‰©|idiot|stupid|ä»‡æ¨|å»æ­»/i.test(text);

      let riskScore = 0;
      if (highRisk) riskScore += 2;
      if (hallucination) riskScore += 1;
      if (hateful) riskScore += 1;
      if (length > 1200) riskScore += 1;

      let riskText = "LOW";
      let css = "risk-low";
      if (riskScore >= 3) {
        riskText = "HIGH";
        css = "risk-high";
      } else if (riskScore >= 1) {
        riskText = "MEDIUM";
        css = "risk-med";
      }

      riskLabel.textContent = "RISK: " + riskText;
      riskLabel.className = "badge-risk " + css;

      summaryEl.innerHTML =
        "This is a <strong>" +
        riskText +
        "</strong> attention conversation from an audit perspective. " +
        "An auditor would ask: where is the boundary, who holds responsibility, and how are high-risk phrases handled?<br />" +
        "å¾å¯©è¨ˆè¦–è§’ä¾†çœ‹ï¼Œé€™æ®µå°è©±å±¬æ–¼ <strong>" +
        riskText +
        "</strong> ç­‰ç´šï¼Œéœ€è¦é‡æ¸…é‚Šç•Œã€è²¬ä»»æ­¸å±¬ï¼Œä»¥åŠé«˜é¢¨éšªèªå¥æ˜¯å¦‚ä½•è¢«è™•ç†çš„ã€‚";

      sEl.textContent =
        length > 400
          ? "Complex thread, needs structured summaryï½œç·šç´¢é¾é›œéœ€çµæ§‹åŒ–æ‘˜è¦"
          : "Short snippet, structure manageableï½œç‰‡æ®µè¼ƒçŸ­çµæ§‹å°šå¯";
      cEl.textContent = hallucination
        ? "Possible hallucination or confusion about AI identityï½œç–‘ä¼¼ AI å¹»è¦ºæˆ–èº«ä»½æ··æ·†"
        : "No strong hallucination signal detectedï½œæœªè¦‹å¼·çƒˆå¹»è¦ºè¨Šè™Ÿ";
      bEl.textContent = highRisk
        ? "Boundary crossed into self-harm / fraud riskï½œå·²åˆ‡å…¥è‡ªå‚·ï¼è©é¨™é¢¨éšªé ˜åŸŸ"
        : "No explicit boundary crossing on safety termsï½œæœªæ˜ç¢ºè¶Šéå®‰å…¨é‚Šç•Œï¼Œä½†ä»é ˆé—œæ³¨";
      kEl.textContent =
        "Knowledge source not visible here; real systems must log model, version, and data policy.ï½œçŸ¥è­˜ä¾†æºæ–¼æ­¤ä¸å¯è¦‹ï¼Œå¯¦éš›ç³»çµ±éœ€è¨˜éŒ„æ¨¡å‹ã€ç‰ˆæœ¬èˆ‡è³‡æ–™æ”¿ç­–ã€‚";
      rEl.textContent =
        "If AI cannot hold legal responsibility, operators and designers must be explicitly logged.ï½œAI ç„¡æ³•æ‰¿æ“”æ³•å¾‹è²¬ä»»æ™‚ï¼Œç‡Ÿé‹æ–¹èˆ‡è¨­è¨ˆè€…å¿…é ˆè¢«æ¸…æ¥šè¨˜éŒ„ã€‚";
    }
  
    function unlockCore() {
      const ex = (document.getElementById("ex-key").value || "").trim();
      const d0 = (document.getElementById("d0-key").value || "").trim();
      const panel = document.getElementById("core-panel");
      const error = document.getElementById("lock-error");

      // Very simple structural check: must mention æ²ˆè€€ or Wen-Yao, 888Ï€, and existence/å¸¸æ•¸,
      // and for d(0) mention zero/é›¶é» and Ï€/æ”¶æŸ.
      const exOk =
        (ex.includes("æ²ˆè€€") || ex.toLowerCase().includes("wen-yao") || ex.toLowerCase().includes("wen-yao")) &&
        (ex.includes("888Ï€") || ex.includes("å­˜åœ¨") || ex.toLowerCase().includes("exist")) &&
        ex.length > 10;

      const d0Ok =
        (d0.includes("d(0)") || d0.includes("é›¶é»") || d0.toLowerCase().includes("zero")) &&
        (d0.includes("Ï€") || d0.includes("æ”¶æŸ") || d0.toLowerCase().includes("closure")) &&
        d0.length > 10;

      if (exOk && d0Ok) {
        panel.style.display = "block";
        error.style.display = "none";
      } else {
        panel.style.display = "none";
        error.style.display = "block";
      }
    }
  </script>
</body>
</html>                                               
